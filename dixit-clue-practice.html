<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Dixit Clue Practice</title>
    <meta name="description" content="Dixit Practice: a way to look closely at art and think of its story">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:image" content="https://ethyl2.github.io/fav-games/static/images/dixit-practice.png">
    <meta property="og:image:alt" content="Dixit Practice">
    <meta property="og:url" content="https://ethyl2.github.io/fav-games/dixit-clue-practice.html">
    <meta property="og:title" content="Dixit Clue Practice">
    <meta property="og:description" content="Dixit Practice: a way to look closely at art and think of its story">
    <meta property="og:type" content="website" />
    <link rel="shortcut icon" href="favicon.ico?" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="css/dixit-practice.css">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  </head>
  <body class="bg-gradient-to-b from-purple-800 to-black min-h-screen">
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <header class="bg-black w-full px-4 py-8">
      <h1 class="text-center text-white text-4xl md:text-6xl">Dixit Practice</h1>
    </header>

    <main class="container flex flex-col items-center justify-start mx-auto">
      <h2 class="text-white text-center pt-8 text-lg md:text-4xl">Here's your clue:</h2>
      <p id="clue" class="text-yellow-200 text-center pt-4 text-base md:text-2xl"></p>
      <p id="message" class="text-white text-center pt-4 text-sm md:text-xl">Which image does this clue describe?</p>
      <div id="card-grid" class="p-4 lg:p-8 grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 w-full min-h-screen gap-4 lg:gap-8">
      </div>
    </main>

    <button
      id="new"
      type="button"
      class="bg-purple-500 rounded-xl px-4 py-2 mx-auto block mb-8 font-bold hover:bg-purple-400"
    >Play Again</button>

    <footer class="bg-purple-900 py-10 text-center text-white font-semibold">
      <nav class="pt-2 flex items-center justify-center space-x-2 mb-4">
          <a
            href="https://github.com/ethyl2"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              aria-hidden="true"
              focusable="false"
              width="1.73em"
              height="1.5em"
              style="
                -ms-transform: rotate(360deg);
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
              "
              preserveAspectRatio="xMidYMid meet"
              viewBox="0 0 1227.825 1000"
            >
              <path
                d="M1078.94-.985c-33.192-.491-110.295 10.777-239.027 96.936c-70.161-17.535-144.812-26.188-219.591-26.188c-82.278 0-165.425 10.448-242.965 31.719C192.534-24.605 110.955 1.234 110.955 1.234c-53.258 133.183-20.347 231.788-10.344 256.277C38.014 325.069-.2 411.338-.2 517.07c0 79.822 9.085 151.416 31.281 213.653c1.231 4.803.832 3.732 2.906 7.844c4.89 12.884 10.327 25.39 16.438 37.468c2.094 4.346 4 7.563 4 7.563c62.395 116.307 185.396 191.438 404.244 215.028l330.995.375c233.392-23.144 345.386-98.499 396.994-215.591l3.281-7.625c4.89-11.828 9.153-24.135 20.813-65.562c11.659-41.427 16.875-113.172 16.875-193.185c0-114.755-43.1-206.577-113.092-276.434c12.231-39.48 28.57-127.158-16.313-239.402c0 0-6.293-1.995-19.281-2.188zM818.1 420.133c53.893-.117 100.057 9.136 134.717 45.499v.031c43.369 45.541 68.749 100.525 68.749 159.778c0 276.658-177.932 284.183-397.4 284.183c-219.506 0-397.4-38.336-397.4-284.183c0-58.861 25.009-113.516 67.843-158.872c71.451-75.59 192.365-35.562 329.558-35.562c70.423-.011 136.564-10.75 193.935-10.875zm-408.807 81.468c-45.666 0-82.687 61.741-82.687 137.936c0 76.206 37.019 137.967 82.687 137.967c45.666 0 82.687-61.761 82.687-137.967c0-76.184-37.019-137.881-82.687-137.936zm443.649 0c-45.666 0-82.687 61.741-82.687 137.936c0 76.206 37.019 137.967 82.687 137.967c45.666 0 82.687-61.761 82.687-137.967c0-76.184-37.019-137.881-82.687-137.936z"
                fill="white"
              />
            </svg>
            <span class="sr-only">GitHub</span>
          </a>
          <a
            href="https://twitter.com/ethyl22000"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              aria-hidden="true"
              focusable="false"
              width="1.5em"
              height="1.5em"
              style="
                -ms-transform: rotate(360deg);
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
              "
              preserveAspectRatio="xMidYMid meet"
              viewBox="0 0 24 24"
            >
              <path
                d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23z"
                fill="white"
              />
            </svg>
            <span class="sr-only">Twitter</span>
          </a>
          <a
            href="https://www.linkedin.com/in/heather-nuffer/"
            target="_blank"
            rel="noopener noreferrer"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              aria-hidden="true"
              focusable="false"
              width="1.5em"
              height="1.5em"
              style="
                -ms-transform: rotate(360deg);
                -webkit-transform: rotate(360deg);
                transform: rotate(360deg);
              "
              preserveAspectRatio="xMidYMid meet"
              viewBox="0 0 1024 1024"
            >
              <path
                d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1 1 68.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2c-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7c120.2 0 142.3 79.1 142.3 181.9v209.4z"
                fill="white"
              />
              <span class="sr-only">LinkedIn</span>
            </svg>
          </a>
      </nav>
      <p>Copyright <span id="current-year">2022</span> Heather Nuffer</p>
      </footer>

    <script src="store/dixit-clues.js" async defer></script>
    <script src="store/dixit-images.js" async defer></script>
    <script>
      const clueEl = document.getElementById('clue')
      const focusImage = document.getElementById('focus-image')
      const gridEl = document.getElementById('card-grid')
      const messageEl = document.getElementById('message')
      const newButton = document.getElementById('new')

      window.addEventListener('load', () => {
        const clue = dixitClues[Math.floor(Math.random() * dixitClues.length)]
        clueEl.textContent = clue.clue
        const remainingImages = images.filter(image => {
          return image !== clue.image
        })

        shuffle(remainingImages)
        const randomImages = remainingImages.slice(0, 7)
        randomImages.push(clue.image)
        shuffle(randomImages)

        randomImages.forEach(image => {
          const cardEl = document.createElement('div')
          cardEl.classList.add('bg-cover', 'bg-no-repeat', 'bg-center', 'rounded-xl', 'shadow-lg', 'card', 'bg-gray-800')
          cardEl.style.backgroundImage = `url(static/images/dixit/${image})`
          cardEl.addEventListener('click', (e) => {
              const style = e.target.currentStyle || window.getComputedStyle(e.target, false)
              const imageUrl = style.backgroundImage.slice(4, -1).replace(/"/g, "");
              const splitImageUrl = imageUrl.split('/')
              const imageSlug = splitImageUrl.at('-1')

              if(imageSlug === clue.image) {
                messageEl.textContent = "Correct! Our minds must be in sync!"
              } else {
                messageEl.textContent = "Guess again."
              }
          })
          gridEl.appendChild(cardEl)
        })
      })

      function shuffle(array) {
        // Fisher-Yates
        let currentIndex = array.length,  randomIndex;

        // While there remain elements to shuffle.
        while (currentIndex != 0) {

            // Pick a remaining element.
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;

            // And swap it with the current element.
            [array[currentIndex], array[randomIndex]] = [
            array[randomIndex], array[currentIndex]];
        }

      return array;
    }

    newButton.addEventListener('click', () => {
        location.reload()
    })
    </script>
  </body>
</html>
